{% extends 'base.html' %}

{% block title %}
SIGN UP TITLE
{% endblock %}

{% block content %}
{{ super() }}

{% if is_submitted%}
        {% for message in get_flashed_messages() %}
              {{ message }}
        {% endfor %}

        {% for error in signup_form.errors %}
            {% for message in signup_form.errors[error] %}
                     {{ message }}
            {% endfor %}
        {% endfor %}
{% endif %}
{% if is_successful %}

<video playsinline="playsinline" autoplay="autoplay" muted="muted" loop="loop">
    <source src="https://media.giphy.com/media/aWRWTF27ilPzy/giphy.mp4" type="video/mp4">
</video>
<h1> Hello, {{ signup_user.name}} </h1>
<p >Your email: {{ signup_user.e_mail }}, and your password is {{ signup_user.password_hash }}, oh thats is joke (¬‿¬ ) </p>
<p >Back to  <a href="{{ url_for('index')}}"><u>main page</u></a></p>

{% else %}
  <form action="/signup" method="POST" class="form-signin">
    {{ signup_form.hidden_tag() }}
    {{ signup_form.email.label }} {{ signup_form.email }} <br>

    {{ signup_form.password_hash.label }} {{ signup_form.password_hash }} <br>

    {{ signup_form.password_hash2.label }} {{ signup_form.password_hash2 }} <br>

    {{ signup_form.first_name.label }} {{ signup_form.first_name }} <br>

    {{ signup_form.last_name.label }} {{ signup_form.last_name }} <br>

    {{ signup_form.username.label }} {{ signup_form.username }} <br>

    {{ signup_form.gender.label }} {{ signup_form.gender }} <br>

    {{ signup_form.date_of_birth.label }} {{ signup_form.date_of_birth }} <br>

    {% if signup_form.date_of_birth.errors %}
        <ul class="errors">
            {% for error in signup_form.date_of_birth.errors %} 
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    {% endif %}
    {{ signup_form.country.label }} {{ signup_form.country }} <br>

    {{ signup_form.city.label }} {{ signup_form.city }} <br>

    {{ signup_form.phone_number.label }} {{ signup_form.phone_number }} <br>

    {% if signup_form.phone_number.errors %}
        <ul class="errors">
            {% for error in signup_form.phone_number.errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    {% endif %}
    {{ signup_form.role_id.label }} {{ signup_form.role_id }} <br>
    {{ signup_form.submit }} <br>
  </form>
{% endif %}
{% endblock %}

